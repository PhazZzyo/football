<h1>Users scoreboard</h1>

<h2>Current leader is "<%= User.where(points: User.maximum("points")).pluck(:email).join() %>" with <%= User.maximum("points") %> points!</h2>

<table class="table table-hover table-bordered">
    <thead class="table-light">
      <tr>
        <th>Email</th>
        <th>Points</th>        
      </tr>
    </thead>
    
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.email %></td>
          <td><%= user.points %></td>
        </tr>
      <% end %>
      </tbody>
  </table>

<div id="users">
  <% @users.each do |user| %>
    <%= render user %>
    <p>
      <%= link_to "Show this user", user %>
    </p>
  <% end %>
</div>

<%= link_to "New user", new_user_path %>
